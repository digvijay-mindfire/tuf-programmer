<!DOCTYPE html>
<html>
    <head>
    <title>Add Edit Remove HTML Table Row</title>
        <link rel="stylesheet" href="bootstrap.css">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="icon" type="image/png" href="images/icons/favicon.ico"/>
	<link rel="stylesheet" type="text/css" href="fonts/font-awesome-4.7.0/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="css/util.css">
	<link rel="stylesheet" type="text/css" href="css/main.css">
        <meta charset="windows-1252">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
<style>
table {
  border-collapse: collapse;
  width: 50%;
}

tr{
  list-style:none;
  display:fixed;
  grid-template-columns:1fx 1fx 1fx 1fx 1fx 1fx;
  justify-content:center;
  width:30vw;
    }
.required:after { content:"*";
    color: red;}
th{
  padding:0.8em 1.5em .8em 1.5em;
}
.p2 {
  font-family: Arial, Helvetica, sans-serif;
color: red
}
.split {
  height: 100%;
  width: 50%;
  position: fixed;
  z-index: 1;
  top: 0;
  overflow-x: hidden;
  padding-top: 10px;
}

.left {
  left: 0;
  background-color: #5F9EA0;
}

.right {
  right: 0;
  background-color: #87CEFA;
}

div {
  border-radius: 5px;
  background-color: #f2f2f2;
  padding: 20px;
}
      </style>
        
    </head>
<body>
		<div class="container-contact3">
            <span class="contact3-form-title">
						Registration form
					</span>
				<form class="row g-3 needs-validation" novalidate>
                     <table style="width:100%;" id="tbl">
   
<tr>
    <td>First Name:</td>
    <td>
        <input id="fname" type="text"  class="c1 form-control"/></td>
</tr>
<tr>
    <td>Last Name:</td>
    <td>
        <input id="lname" type="text" class="c1 form-control" /></td>
</tr>
<tr>
    <td>Email:</td>
    <td>
        <input id="txtpemil" type="email" class="c1 form-control" /></td>
</tr>
<tr>
    <td>Age:</td>
    <td>
        <input id="txtpage" type="text" class="c1 form-control"/></td>
</tr>
<tr>
    <td>Mobile No:</td>
    <td>
        <input id="txtpmobile" type="tel" class="c1 form-control"/></td>
</tr>
<tr>
    <td>Gender:</td>
    <td>
        <select id="lstpgender" class="c1 form-control">
            <option>Male</option>
            <option>Female</option>
        </select>
    </td>
</tr>
    
<tr>
    <td>&nbsp;</td>
    <td>&nbsp;</td>
</tr>
<tr>
    <td><input id="btnsave" type="button" value="Save" /></td>
    <td><input id="btnclear" type="button" value="Clear" /></td>
    <td><input id="btnclearstorage" type="button" value="Clear Storage" /></td>
</tr>
</table>
            </form>
    </div>
                    
<div id="dvcontainer">
</div>
    <script>
        (function () {
var Person = {
Fname: "",
Lname: "",
Email: "",
Age:0,
MobileNo: "",
Gender:""
};
var applogic = {
clearuielements: function () {
    var inputs = document.getElementsByClassName("c1");
    for (i = 0; i < inputs.length; i++) {
        inputs[i].value = "";
    }
},
saveitem: function () {
    var lscount = localStorage.length;
    var inputs = document.getElementsByClassName("c1");
            Person.Fname = inputs[0].value;
            Person.Lname = inputs[1].value;
            Person.Email = inputs[2].value;
            Person.Age = inputs[3].value;
            Person.MobileNo = inputs[4].value;
            Person.Gender = inputs[5].value;
            localStorage.setItem("Person_" + lscount, JSON.stringify(Person));
            location.reload();
},
loaddata: function () {
    var datacount = localStorage.length;
    if (datacount > 0)
    {
        var render = "<table class='table' border='2'>";
        render += "<tr><th>First Name</th><th>Last Name</th>” + “<th>Email</th><th>Age</th><th>MobileNo</th>” +<th>Gender</th></tr>";
        for (i = 0; i < datacount; i++) {
            var key = localStorage.key(i); //Get  the Key
            var person = localStorage.getItem(key); //Get Data from Key
            var data = JSON.parse(person); //Parse the Data back into the object
           
            render += "<tr><td>" + data.Fname + "</td><td>" + data.Lname + " </td>";
            render += "<td>" + data.showelementById + "</td>";
            render += "<td>" + data.Age + "</td>";
            render += "<td>" + data.MobileNo + "</td>";
            render += "<td>" + data.Gender + "</td></tr>";
        }
        render+="</table>";
        dvcontainer.innerHTML = render;
    }
},
//Method to Clear Storage
clearstorage: function () {
    var storagecount = localStorage.length; //Get the Storage Count
    if (storagecount > 0)
    {
        for (i = 0; i < storagecount; i++) {
            localStorage.clear();
        }
    }
    window.location.reload();
}
};
//Save object into the localstorage
var btnsave = document.getElementById('btnsave');
btnsave.addEventListener('click', applogic.saveitem, false);
//Clear all UI Elements
var btnclear = document.getElementById('btnclear');
btnclear.addEventListener('click', applogic.clearuielements, false);
//Clear LocalStorage
var btnclearstorage = document.getElementById('btnclearstorage');
btnclearstorage.addEventListener('click', applogic.clearstorage, false);
//On Load of window load data from local storage
window.onload = function () {
applogic.loaddata();
};
})();
    </script>
    </body>
</html>